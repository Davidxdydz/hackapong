{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto text-center mt-8 w-full">

    <div id="game-container"
        class="card p-12 rounded-2xl shadow-xl min-h-[400px] flex flex-col justify-center items-center relative overflow-hidden">

        <div class="relative z-10 w-full max-w-2xl">
            {% if team.state == 'NOT_ACTIVE' %}
            {% include 'game_states/not_active.html' %}
            {% elif team.state == 'SEARCHING' %}
            {% include 'game_states/searching.html' %}
            {% elif team.state == 'MATCHED' %}
            {% include 'game_states/matched.html' %}
            {% elif team.state == 'CONFIRM_READY' %}
            {% include 'game_states/confirm_ready.html' %}
            {% elif team.state == 'READY' %}
            {% include 'game_states/ready.html' %}
            {% elif team.state == 'IN_GAME' %}
            {% include 'game_states/in_game.html' %}
            {% elif team.state == 'DONE' %}
            {% include 'game_states/done.html' %}
            {% elif team.state == 'SUBMIT' %}
            {% include 'game_states/submit.html' %}
            {% elif team.state == 'SUBMITTED' %}
            {% include 'game_states/submitted.html' %}
            {% endif %}
        </div>
    </div>
</div>

<script>
    function submitScore() {
        const s1 = document.getElementById('score1').value;
        const s2 = document.getElementById('score2').value;
        if (s1 === '' || s2 === '') {
            alert('Please enter both scores');
            return;
        }
        socket.emit('submit_score', { score1: s1, score2: s2 });
    }
</script>
{% endblock %}